if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

source /usr/share/zsh-theme-powerlevel10k/powerlevel10k.zsh-theme

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh

# Configuración de autosuggestions
#ZSH_AUTOSUGGEST_STRATEGY=(history completion)
#ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=#5a5a5a'

# ===== SYNTAX HIGHLIGHTING =====
source ~/.zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
source ~/.zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh

# ===== Historial de ZSH ======
HISTFILE=~/.zsh_history
HISTSIZE=10000
SAVEHIST=10000
setopt appendhistory
setopt INC_APPEND_HISTORY
setopt SHARE_HISTORY
setopt HIST_EXPIRE_DUPS_FIRST
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_FIND_NO_DUPS
setopt HIST_SAVE_NO_DUPS
setopt HIST_REDUCE_BLANKS

#plugins=(
#    git
#    zsh-autosuggestions
#    zsh-syntax-highlighting
#)

#bindkey '^[[A^' history_search_backward
#bindkey '^[[B^' history_search_forward
#
# ---- Zoxide (better cd) ----
eval "$(zoxide init --cmd cd zsh)"

#alias cd="z"

# ---- Eza (better ls) -----


alias ls='eza --colour=always --icons=auto --group-directories-first'
alias ll='eza -l --colour=always --icons=auto --group-directories-first --git'
alias la='eza -a --colour=always --icons=auto --group-directories-first'
alias lla='eza -la --colour=always --icons=auto --group-directories-last --git'
alias lt='eza --tree --colour=always --icons=auto --group-directories-first'
alias lta='eza --tree -a --colour=always --icons=auto --group-directories-first'

# Versiones con más detalles
alias llg='eza -lg --colour=always --icons=auto --git --group-directories-first'
alias llag='eza -lag --colour=always --icons=auto --git --group-directories-first'

# ------ ALIAS ÚTILES ------
alias cat='bat'
alias grep='grep --color=auto'
alias nv='nvim'
alias n='nvim'

# Usa el modo emacs (bindings estándar)
#cat -v ve la secuencia para mapearla.
bindkey -e

# --- Navegación básica ---
bindkey "^[[H" beginning-of-line      # Home → inicio de línea
bindkey "^[[F" end-of-line            # End → fin de línea

# --- Edición de texto ---
bindkey "^[[3~" delete-char           # Supr → borrar caracter bajo cursor
bindkey "^[[2~" overwrite-mode        # Insert → alternar modo overwrite/insert
bindkey "^?"   backward-delete-char   # Backspace → borrar caracter antes del cursor

# --- Historial con PageUp/PageDown ---
bindkey "^[[5~" history-beginning-search-backward
bindkey "^[[6~" history-beginning-search-forward

# --- Navegación por palabras ---
bindkey "^[^[[D" backward-word        # Ctrl+← → mover una palabra a la izquierda
bindkey "^[^[[C" forward-word         # Ctrl+→ → mover una palabra a la derecha

# --- Borrado por palabras ---
bindkey "^[3;5~" kill-word            # Ctrl+Supr → borrar palabra hacia adelante
bindkey "^[127;5u" backward-kill-word # Ctrl+Backspace → borrar palabra hacia atrás





